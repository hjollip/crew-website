<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}Site{% endblock %}</title>
    <style>
      body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
      .layout { display: grid; grid-template-columns: 240px 1fr; min-height: 100vh; }
      .sidebar { background: #f3f4f6; padding: 18px 14px; border-right: 1px solid #e5e7eb; }
      .sidebar h1 { font-size: 16px; margin: 0 0 12px 0; }
      .nav a { display:block; padding:10px; margin:4px 0; text-decoration:none; color:#111827; border-radius:8px; }
      .nav a:hover { background:#e5e7eb; }
      .content { padding: 22px; }
      .card { max-width: 820px; background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:16px; box-shadow:0 1px 2px rgba(0,0,0,0.04); }
      .row { display:grid; gap:12px; grid-template-columns: 1fr; }
      @media (min-width: 900px) { .row { grid-template-columns: 1fr 1fr; } }
      label { display:block; font-weight:600; margin-top:8px; }
      input { width:100%; padding:10px; border-radius:10px; border:1px solid #d1d5db; box-sizing:border-box; }
      .btn { cursor:pointer; border:0; border-radius:10px; padding:10px 12px; font-weight:700; }
      .btn-primary { background:#111827; color:#fff; }
      .btn-muted { background:#e5e7eb; color:#111827; }
      .messages { margin:0 0 14px 0; padding:0; list-style:none; }
      .messages li { padding:10px 12px; border-radius:10px; margin:6px 0; border:1px solid #e5e7eb; background:#fafafa; }
      .hint { color:#6b7280; font-size:13px; }
      .small { font-size:14px; }
    </style>
  </head>
  <body>
    <div class="layout">
      <aside class="sidebar">
        <h1>Navigation</h1>
        <nav class="nav">
          <a href="{% url 'landing' %}">Landing</a>
          <a href="{% url 'hello' %}">Hello</a>
          <a href="{% url 'goodbye' %}">Goodbye</a>
        </nav>

        <div style="margin-top: 14px;" class="small">
          {% if user.is_authenticated %}
            <div><strong>Signed in as:</strong> {{ user.username }}</div>
            <form method="post" action="{% url 'landing' %}" style="margin-top: 10px;">
              {% csrf_token %}
              <input type="hidden" name="action" value="logout" />
              <button class="btn btn-muted" type="submit">Log out</button>
            </form>
          {% else %}
            <div class="hint">Not signed in</div>
          {% endif %}
        </div>
      </aside>
      <main class="content">
        {% if messages %}
          <ul class="messages">
            {% for message in messages %}
              <li>{{ message }}</li>
            {% endfor %}
          </ul>
        {% endif %}

        {% block content %}{% endblock %}
      </main>
    </div>
  </body>
</html>
